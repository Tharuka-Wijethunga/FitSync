
# FitSync Pro: AI-Powered Workout Planner

**FitSync Pro** is a full-stack web application designed to provide users with personalized workout plans generated by a sophisticated team of AI agents. The application features a unique _"coach-in-the-loop"_ workflow, where AI-generated plans are reviewed, edited, and approved by human fitness coaches to ensure quality, safety, and personalization.

---

## 🔑 Key Features

- **AI-Generated Workout Plans**  
  Leverages a multi-agent system (using CrewAI) to create detailed weekly workout and nutrition plans based on user metrics and descriptive fitness goals.

- **User & Coach Roles**  
  Separate registration and dashboard experiences for regular users and fitness coaches.

- **Coach-in-the-Loop Workflow**  
  Coaches can review, edit, and approve AI-generated drafts before they are sent to the user.

- **Personalized Dashboards**  
  Users can view their plan history, and coaches can manage a queue of pending requests.

- **Fine-tuned Chatbot**  
  An integrated, domain-specific chatbot ("FitBot") to answer user questions about fitness, exercises, and nutrition safely.

- **Secure Authentication**  
  JWT-based authentication to protect user data and secure API endpoints.

- **Downloadable Plans**  
  Users can download their approved workout plans as a PDF for offline use.

---

## 🛠️ Tech Stack

- **AI Service:** Python, CrewAI, LangChain, OpenAI  
- **Backend:** Python, FastAPI, MongoDB, Pydantic  
- **Frontend:** JavaScript, React, Vite, Axios  
- **Database:** MongoDB

---

## 📁 Project Structure

The project is organized as a **monorepo** with three distinct services:

- `frontend/`: The React-based user interface  
- `backend/`: The main FastAPI server that handles users, authentication, and database interactions  
- `crew_ai_service/`: A dedicated FastAPI microservice that runs the AI agents to generate workout plans

---

## ⚙️ Setup and Installation

Follow these steps to set up and run the entire application locally. You will need **three separate terminal windows**.

### ✅ Prerequisites

- Python 3.10+  
- Node.js LTS (which includes npm)  
- MongoDB Community Edition installed and running as a service

---

### 🔐 1. Environment Variables

#### 📁 For the Main Backend (`/backend/.env`)

```env
DATABASE_URL="mongodb://localhost:27017/"
DATABASE_NAME="fitsync_pro"
SECRET_KEY="a_very_secret_key_for_jwt_tokens_change_this"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
AI_SERVICE_URL="http://127.0.0.1:8001"
OPENAI_API_KEY="your_openai_api_key_here"
```

#### 📁 For the AI Service (`/crew_ai_service/.env`)

```env
OPENAI_API_KEY="your_openai_api_key_here"
```

#### 📁 For the Frontend (`/frontend/.env`)

```env
VITE_API_BASE_URL=http://127.0.0.1:8000
```

---

### 📦 2. Install Dependencies

#### 🖥️ Terminal 1: AI Service

```bash
cd crew_ai_service
python -m venv .venv

# On Windows
.\.venv\Scripts\activate

# On Mac/Linux
source .venv/bin/activate

pip install -r requirements.txt
```

#### 🖥️ Terminal 2: Main Backend

```bash
cd backend
python -m venv .venv

# On Windows
.\.venv\Scripts\activate

# On Mac/Linux
source .venv/bin/activate

pip install -r requirements.txt
```

#### 🖥️ Terminal 3: Frontend

```bash
cd frontend
npm install
```

---

## 🚀 Running the Application

With dependencies installed, you can now start each service in its dedicated terminal.

#### ▶️ Terminal 1: Start the AI Service

```bash
# In crew_ai_service/ directory
uvicorn app.main:app --reload --port 8001
```

#### ▶️ Terminal 2: Start the Main Backend

```bash
# In backend/ directory
uvicorn app.main:app --reload --port 8000
```

#### ▶️ Terminal 3: Start the Frontend

```bash
# In frontend/ directory
npm run dev
```

---

## 🌐 Accessing the Application

- Frontend: [http://localhost:5173](http://localhost:5173)  
- Backend API Docs: [http://localhost:8000/docs](http://localhost:8000/docs)  
- AI Service API Docs: [http://localhost:8001/docs](http://localhost:8001/docs)

---

## 🧭 Usage

1. **Register an Account**  
   Navigate to the registration page.  
   - To register as a **Coach**, use a `gym_registration_number` that starts with the prefix `COACH-` (e.g., `COACH-12345`)  
   - Otherwise, you will be registered as a **regular user**

2. **Login**  
   Use the appropriate login page for your role. After logging in, you will be redirected to your dashboard.

3. **Request a Plan (as a User)**  
   Fill out your metrics and describe your fitness goals to request an AI-generated workout plan.

4. **Review a Plan (as a Coach)**  
   On the coach dashboard, view pending requests, edit the workout plan details, add notes, and approve the plan.

5. **View & Download (as a User)**  
   Once your plan is approved, you can view it in a formatted layout and download it as a PDF.

6. **Chat with FitBot**  
   Use the chat widget on any page to ask fitness-related questions.

---
